(()=>{"use strict";var e,t,i,s,n,o,h={189856:(e,t,i)=>{i.d(t,{screenWakeLocker:()=>s});const s=new class{_onVisibilityChange(){this.wakeLockSentinel&&"visible"===document.visibilityState&&this.lock().then((()=>{})).catch(console.error)}requestWakeLock(){return navigator.wakeLock?this.wakeLockSentinel?Promise.resolve():navigator.wakeLock.request("screen").then((e=>{this.wakeLockSentinel=e})):Promise.reject()}isLocked(){return!!this.wakeLockSentinel&&!this.wakeLockSentinel.released}lock(){return this.requestWakeLock().then((()=>{this.wakeLockSentinel&&document.addEventListener("visibilitychange",this.onVisibilityChange)})).catch((()=>{}))}unlock(){return this.wakeLockSentinel?(document.removeEventListener("visibilitychange",this.onVisibilityChange),this.wakeLockSentinel.release().finally((()=>{this.wakeLockSentinel=null}))):Promise.resolve()}constructor(){this.onVisibilityChange=this._onVisibilityChange.bind(this)}}},160079:(e,t,i)=>{i.d(t,{IdleManager:()=>r});var s=i(434788),n=i(980602),o=i(301230),h=i(404145),a=i(189856);const c=o.browser.iphone||o.browser.ipad||o.browser.ipod;class r extends n.default{stop(){this.started=!1,d(this.opts.element,this.opts.triggerEvents,this.cbActive),(0,h.isMvk)()&&this._isTopLevel()&&_()&&d(document,_(),this.onVisiblityChange),(0,h.isMvk)()&&c||(d(this.opts.focusElement,"focus",this.cbActive),d(this.opts.focusElement,"blur",this.cbInactive)),clearTimeout(this.setIdleTo),clearTimeout(this.checkIdleCbTo),clearTimeout(this.sendCbTO),this.is_idle=!0,this.opts.parentManager&&this.opts.parentManager.off("idle",this.cbInactive)}idle(e){this.is_idle=!0,e||this.opts.onIdleCb(),this.emit("idle")}unidle(e){this.is_idle=!1,e||this.opts.onUnIdleCb(),this.emit("unidle")}start(){this.started=!0,!(0,h.isMvk)()&&o.browser.mobile||(this.is_idle=!this._isFocused(),this.opts.parentManager&&this.opts.parentManager.on("idle",this.cbInactive),(0,h.isMvk)()&&this._isTopLevel()&&_()&&l(document,_(),this.onVisiblityChange),(0,h.isMvk)()&&c||(l(this.opts.focusElement,"focus",this.cbActive),l(this.opts.focusElement,"blur",this.cbInactive)),clearTimeout(this.checkIdleCbTo),this.checkIdleCb(),this.checkIdleCbTo=setTimeout(this.checkIdleCb,this.opts.idleTimeout))}constructor(e){super(),this.started=!1,this.is_idle=!0,this.activeTimeStart=null,this.checkIdleCb=()=>{this.started&&(l(this.opts.element,this.opts.triggerEvents,this.cbActive),clearTimeout(this.setIdleTo),this.setIdleTo=setTimeout(this.cbInactive,this.opts.idleTimeout))},this.cbActive=()=>{this.started&&(this.activeTimeStart=(new Date).getTime(),clearTimeout(this.setIdleTo),this.is_idle&&(this.is_idle=!1,clearTimeout(this.sendCbTO),this.sendCbTO=setTimeout((()=>{this.emit("unidle"),this.opts.onUnIdleCb&&this.opts.onUnIdleCb()}),100)),d(this.opts.element,this.opts.triggerEvents,this.cbActive),clearTimeout(this.checkIdleCbTo),this.checkIdleCbTo=setTimeout(this.checkIdleCb,this.opts.idleTimeout))},this.cbInactive=()=>{this.started&&(a.screenWakeLocker.isLocked()||(this.activeTimeStart=null,this.is_idle||(this.is_idle=!0,clearTimeout(this.sendCbTO),this.sendCbTO=setTimeout((()=>{this.emit("idle"),this.opts.onIdleCb&&this.opts.onIdleCb()}),100)),clearTimeout(this.checkIdleCbTo),d(this.opts.element,this.opts.triggerEvents,this.cbActive),l(this.opts.element,this.opts.triggerEvents,this.cbActive),this.checkIdleCbTo=setTimeout(this.checkIdleCb,this.opts.idleTimeout)))},this.getActiveTime=()=>!this.is_idle&&this.activeTimeStart?(new Date).getTime()-this.activeTimeStart:0,this.onVisiblityChange=()=>{"visible"===u()?this.cbActive():this.cbInactive()},this._isTopLevel=()=>{const{focusElement:e}=this.opts;return e===window||e===document},this._isFocused=()=>{const{focusElement:e}=this.opts;if(this._isTopLevel()){const e=u();return"string"==typeof e&&"visible"===e}return document.activeElement===e},this.opts=(0,s._)({triggerEvents:"mousemove keydown",onIdleCb:()=>{},onUnIdleCb:()=>{},focusElement:e.element,idleTimeout:3e4},e)}}function l(e,t,i){(0,h.isMvk)()?window.addEvent(e,t,i,{passive:!0}):window.addEvent(e,t,i)}function d(e,t,i){(0,h.isMvk)()?window.removeEvent(e,t,i,{passive:!0}):window.removeEvent(e,t,i)}function u(){return document.visibilityState||document.webkitVisibilityState}function _(){let e="visibilitychange";return document.visibilityState||(document.webkitVisibilityState?e+="webkit":e=""),e}},435710:(e,t,i)=>{var s,n,o,h=i(620800),a=i(487446);(null==(n=window.vk)||null==(s=n.pe)?void 0:s.static_manager_dynamic_imports)&&(null==(o=window.vk)?void 0:o.stDomain)&&(i.p=window.vk.stDomain+"/dist/"),window.Login=h.Login,window.Authcheck=new a.Authcheck;try{window.stManager.done(window.jsc("web/login.js"))}catch(e){console.log(e)}},487446:(e,t,i)=>{i.d(t,{Authcheck:()=>v});var s=i(795558),n=i(725296),o=i(29271),h=i(254667),a=i(96756),c=i(672948),r=i(82161),l=i(160079),d=i(277736),u=i(127653);const _=0;function g(){return(0,s.ce)("div",{className:"progress_inline"})}function m(e,t,i){(0,h.showMsg)("login_authcheck_error",e,i||"error",!0),(0,r.isFunction)(t)&&t()}class v{showOptions(){(0,s.hide)("login_authcheck_no_code","login_authcheck_called_phone_no_code"),(0,s.show)("login_authcheck_options")}showCodeRow(){const e=(0,s.ge)("_login_authcheck_reserve_code");return(0,s.hide)("login_authcheck_called_phone_row"),(0,s.show)("login_authcheck_code_row"),e&&1==e.firstChild.nodeType&&(0,s.val)(e,(0,s.val)((0,s.domFC)(e))),!1}showReserveCodeInfo(){const e=(0,s.ge)("login_authcheck_info");this.oldAuthcheckText=e.innerHTML,e.innerHTML=o.getLang("login_authcheck_reserve_code_msg");const t=(0,s.ge)("_login_authcheck_reserve_code");return(0,s.hide)((0,s.domPN)(t)),this.showCodeRow(),!1}disableCheck(e){const t=g();return ajax.post("/al_login.php?act=a_authcheck_disable",{hash:this.hash},{showProgress:()=>(0,s.domReplaceEl)(e,t),hideProgress:()=>(0,s.domReplaceEl)(t,e)}),!1}submitCode(){if(buttonLocked("login_authcheck_submit_btn"))return;let e,t,i;this.isCallReset()&&(0,s.isVisible)("login_authcheck_called_phone_row")?(e="authcheck_called_phone",t="login_authcheck_called_phone_prefixed",i=this.calledPhoneLength):(e="authcheck_code",t=e,i=6);const o=(0,r.trim)((0,s.val)(e)).replace(/[^0-9]/g,"");if(o.length<i)return(0,n.notaBene)(t),(0,s.elfocus)(e);(0,s.val)("login_authcheck_error",""),ajax.post("/al_login.php?act=a_authcheck_code",{code:o,remember:(0,n.isChecked)("login_authcheck_remember"),hash:this.hash,t2fs:this.traceID},{showProgress:()=>lockButton("login_authcheck_submit_btn"),hideProgress:()=>unlockButton("login_authcheck_submit_btn"),onDone:(t,i)=>{const n=(0,s.ge)("login_authcheck_called_phone_prefix");t&&m(t,(()=>(0,s.elfocus)(e))),this.isCallReset()&&(0,s.isVisible)(n)&&i&&(0,s.val)((0,s.domFC)(n),i)},onFail(t){if(t)return m(t,(()=>(0,s.elfocus)(e))),!0}})}autoSendSms(){this.idleManager&&!this.idleManager.is_idle&&this.sendSms((0,s.geByTag1)("a","login_authcheck_send_sms"),this.hash)}sendSms(e){const t=g();return this.sendSmsTO&&clearTimeout(this.sendSmsTO),(0,s.val)("login_authcheck_error",""),ajax.post("/al_login.php?act=a_authcheck_sms",{hash:this.hash},{onDone:(e,t,i)=>{this.validationType=i,t&&(this.resendDelay=t,this.resendInterval=setInterval((()=>this.resendUpdate()),1e3));const n=(0,s.ge)("_login_authcheck_reserve_code");if(n&&(0,s.show)((0,s.domPN)(n)),this.isCallReset()?((0,s.hide)("login_authcheck_code_row"),(0,s.show)("login_authcheck_called_phone_row"),n.innerHTML='<a onclick="return window.Authcheck.showReserveCodeInfo();">'+n.innerHTML+"</a>"):this.showCodeRow(),this.oldAuthcheckText&&((0,s.ge)("login_authcheck_info").innerHTML=this.oldAuthcheckText,this.oldAuthcheckText=""),!e)return;const o=this.isCallReset()?"authcheck_called_phone":"authcheck_code";return m(e,(()=>(0,s.elfocus)(o)),"ok_msg"),!0},onFail:e=>{const t=this.isCallReset()?"authcheck_called_phone":"authcheck_code";return m(e,(()=>(0,s.elfocus)(t))),!0},showProgress:()=>(0,s.domReplaceEl)(e,t),hideProgress:()=>(0,s.domReplaceEl)(t,e)}),!1}sendIm(e){const t=g();return ajax.post("/al_login.php?act=a_authcheck_im_sent",{hash:this.hash},{onDone:(e,t)=>{if(!e)return;const i=(0,s.ge)("_login_authcheck_reserve_code");i&&(0,s.show)((0,s.domPN)(i));const n=(0,s.ge)("login_authcheck_info"),o=(0,s.ge)("login_authcheck_send_im");n.innerHTML=t,(0,s.re)((0,s.domPN)(o))},onFail:e=>(m(e),!0),showProgress:()=>(0,s.domReplaceEl)(e,t),hideProgress:()=>(0,s.domReplaceEl)(t,e)}),!1}init(e,t,i,n,o){this.hash=e,this.traceID=t,this.resendDelay=i,this.validationType=n,this.calledPhoneLength=o,this.idleManager=null,this.resendDelay?(this.resendUpdate(),this.resendDelay&&(this.resendInterval=setInterval((()=>this.resendUpdate()),1e3))):(0,s.ge)("login_authcheck_send_sms")&&[_].includes(this.validationType)&&(this.idleManager=new l.IdleManager({id:"authcheck",element:document,focusElement:window,triggerEvents:"mouseover mousedown keypress"}),this.idleManager.start(),this.sendSmsTO=setTimeout((()=>this.autoSendSms()),6e4)),u.registrationItemStat.logEvent(u.RegistrationItemEventTypes.SCREEN_PROCEED,u.EventScreens.START,u.EventScreens.PHONE_2FA_VERIFY),(0,a.placeholderInit)("authcheck_code"),(0,s.elfocus)(this.isCallReset()?"authcheck_called_phone":"authcheck_code")}resendUpdate(){let e,t;3==this.validationType?(e=o.getLang("login_authcheck_send_via_sms_delay"),t=o.getLang("login_authcheck_send_sms_with_code")):2==this.validationType?(e=o.getLang("login_authcheck_send_call_reset_delay"),t=o.getLang("login_authcheck_send_call_reset")):1==this.validationType?(e=o.getLang("login_authcheck_resend_sms_delay"),t=o.getLang("login_authcheck_resend_sms")):(e=o.getLang("login_authcheck_send_sms_delay"),t=o.getLang("login_authcheck_send_sms")),this.resendDelay>0?((0,s.val)("login_authcheck_send_sms",e.replace("%s",(0,c.formatTime)(this.resendDelay))),this.resendDelay--):((0,s.val)("login_authcheck_send_sms",t.replace("{link}",'<a onclick="return window.Authcheck.sendSms(this);">').replace("{/link}","</a>")),clearInterval(this.resendInterval))}isCallReset(){return 3==this.validationType}codeInputKeyHandler(e,t){(0,d.onEnter)((()=>{t.blur(),this.submitCode()}),e)}constructor(){this.hash="",this.traceID="",this.resendInterval=null,this.calledPhoneLength=0,this.idleManager=null,this.resendDelay=0,this.sendSmsTO=null,this.validationType=_,this.oldAuthcheckText=""}}}},a={};function c(e){var t=a[e];if(void 0!==t)return t.exports;var i=a[e]={exports:{}};return h[e].call(i.exports,i,i.exports,c),i.exports}c.m=h,e=[],c.O=(t,i,s,n)=>{if(!i){var o=1/0;for(l=0;l<e.length;l++){for(var[i,s,n]=e[l],h=!0,a=0;a<i.length;a++)(!1&n||o>=n)&&Object.keys(c.O).every((e=>c.O[e](i[a])))?i.splice(a--,1):(h=!1,n<o&&(o=n));if(h){e.splice(l--,1);var r=s();void 0!==r&&(t=r)}}return t}n=n||0;for(var l=e.length;l>0&&e[l-1][2]>n;l--)e[l]=e[l-1];e[l]=[i,s,n]},c.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return c.d(t,{a:t}),t},i=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,c.t=function(e,s){if(1&s&&(e=this(e)),8&s)return e;if("object"==typeof e&&e){if(4&s&&e.__esModule)return e;if(16&s&&"function"==typeof e.then)return e}var n=Object.create(null);c.r(n);var o={};t=t||[null,i({}),i([]),i(i)];for(var h=2&s&&e;"object"==typeof h&&!~t.indexOf(h);h=i(h))Object.getOwnPropertyNames(h).forEach((t=>o[t]=()=>e[t]));return o.default=()=>e,c.d(n,o),n},c.d=(e,t)=>{for(var i in t)c.o(t,i)&&!c.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},c.f={},c.e=e=>Promise.all(Object.keys(c.f).reduce(((t,i)=>(c.f[i](e,t),t)),[])),c.u=e=>38288===e?"lottie.74aaa0cc8728efa0bd7a.js":96816===e?"web-audio-lyrics-modal.383e16f8017afc9e3428.js":75980===e?"menu_settings.3ea04534d06cb6d38e2c.js":9375===e?"voice_message_player.d449d9b223586fadb6e4.js":28762===e?"speech.be0c329a1eff7c81577d.js":57468===e?"SilentModeForms.e015a5693a0cc2f3ade2.js":96248===e?"feed-skeleton.9fcb1d873cd5ce86c3e5.js":59240===e?"performance-stats.db0202cf42c0b800c72f.js":void 0,c.miniCssF=e=>e+"."+{57468:"d05f5967dbd8ab294b5c",75980:"5bbee2c9f3e189193a73"}[e]+".css",c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s={},c.l=(e,t,i,n)=>{if(s[e])s[e].push(t);else{var o,h;if(void 0!==i)for(var a=document.getElementsByTagName("script"),r=0;r<a.length;r++){var l=a[r];if(l.getAttribute("src")==e||l.getAttribute("data-webpack")=="vk:"+i){o=l;break}}o||(h=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,c.nc&&o.setAttribute("nonce",c.nc),o.setAttribute("data-webpack","vk:"+i),o.src=e),s[e]=[t];var d=(t,i)=>{o.onerror=o.onload=null,clearTimeout(u);var n=s[e];if(delete s[e],o.parentNode&&o.parentNode.removeChild(o),n&&n.forEach((e=>e(i))),t)return t(i)},u=setTimeout(d.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=d.bind(null,o.onerror),o.onload=d.bind(null,o.onload),h&&document.head.appendChild(o)}},c.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.p="/dist/",n=e=>new Promise(((t,i)=>{var s=c.miniCssF(e),n=c.p+s;if(((e,t)=>{for(var i=document.getElementsByTagName("link"),s=0;s<i.length;s++){var n=(h=i[s]).getAttribute("data-href")||h.getAttribute("href");if("stylesheet"===h.rel&&(n===e||n===t))return h}var o=document.getElementsByTagName("style");for(s=0;s<o.length;s++){var h;if((n=(h=o[s]).getAttribute("data-href"))===e||n===t)return h}})(s,n))return t();((e,t,i,s)=>{var n=document.createElement("link");n.rel="stylesheet",n.type="text/css",n.onerror=n.onload=o=>{if(n.onerror=n.onload=null,"load"===o.type)i();else{var h=o&&("load"===o.type?"missing":o.type),a=o&&o.target&&o.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=h,c.request=a,n.parentNode.removeChild(n),s(c)}},n.href=t,document.head.appendChild(n)})(e,n,t,i)})),o={47130:0},c.f.miniCss=(e,t)=>{o[e]?t.push(o[e]):0!==o[e]&&{57468:1,75980:1}[e]&&t.push(o[e]=n(e).then((()=>{o[e]=0}),(t=>{throw delete o[e],t})))},(()=>{var e={47130:0};c.f.j=(t,i)=>{var s=c.o(e,t)?e[t]:void 0;if(0!==s)if(s)i.push(s[2]);else if(75980!=t){var n=new Promise(((i,n)=>s=e[t]=[i,n]));i.push(s[2]=n);var o=c.p+c.u(t),h=new Error;c.l(o,(i=>{if(c.o(e,t)&&(0!==(s=e[t])&&(e[t]=void 0),s)){var n=i&&("load"===i.type?"missing":i.type),o=i&&i.target&&i.target.src;h.message="Loading chunk "+t+" failed.\n("+n+": "+o+")",h.name="ChunkLoadError",h.type=n,h.request=o,s[1](h)}}),"chunk-"+t,t)}else e[t]=0},c.O.j=t=>0===e[t];var t=(t,i)=>{var s,n,[o,h,a]=i,r=0;if(o.some((t=>0!==e[t]))){for(s in h)c.o(h,s)&&(c.m[s]=h[s]);if(a)var l=a(c)}for(t&&t(i);r<o.length;r++)n=o[r],c.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return c.O(l)},i=self.webpackChunkvk=self.webpackChunkvk||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})();var r=c.O(void 0,[75514,98066,56990,24509,76400,40885,68592],(()=>c(435710)));r=c.O(r)})();